basePath: /
definitions:
  handlers.ChangePasswordRequest:
    properties:
      new_password:
        description: 新密码
        type: string
      old_password:
        description: 旧密码
        type: string
    required:
    - new_password
    - old_password
    type: object
  handlers.DeleteAccountRequest:
    properties:
      password:
        description: 当前密码，用于确认
        type: string
      reason:
        description: 删除原因（可选）
        type: string
    required:
    - password
    type: object
  handlers.LoginRequest:
    properties:
      email:
        description: login_type=email时必填
        type: string
      password:
        type: string
      phone:
        description: login_type=phone时必填
        type: string
      token:
        type: string
      user_type:
        description: 必填：passenger, driver，用于区分同一手机号/邮箱的不同身份
        enum:
        - passenger
        - driver
        type: string
      verify_code:
        description: login_type=phone时必填
        type: string
    required:
    - user_type
    type: object
  handlers.LoginResponse:
    properties:
      expires_at:
        type: integer
      is_verified:
        type: boolean
      needs_verify:
        description: '["email", "phone"]'
        items:
          type: string
        type: array
      refresh_at:
        type: integer
      token:
        type: string
      user:
        $ref: '#/definitions/protocol.User'
    type: object
  handlers.RegisterRequest:
    properties:
      country_code:
        description: 可选，默认为卢旺达(RW)
        type: string
      email:
        type: string
      first_name:
        type: string
      invite_code:
        description: 可选邀请码
        type: string
      last_name:
        type: string
      password:
        type: string
      phone:
        type: string
      user_type:
        description: passenger, driver
        enum:
        - passenger
        - driver
        type: string
      username:
        type: string
      verify_code:
        description: 验证码 (可选，如果提供则优先验证手机，然后邮箱)
        type: string
    required:
    - user_type
    - username
    - verify_code
    type: object
  handlers.RegisterResponse:
    properties:
      email:
        type: string
      phone:
        type: string
      user_id:
        type: string
      user_type:
        type: string
    type: object
  handlers.ResetPasswordRequest:
    properties:
      code:
        description: 验证码
        type: string
      email:
        type: string
      method:
        description: email, phone
        enum:
        - email
        - phone
        type: string
      new_password:
        description: 新密码
        type: string
      phone:
        type: string
      user_type:
        description: 用户类型
        enum:
        - passenger
        - driver
        type: string
    required:
    - code
    - method
    - new_password
    - user_type
    type: object
  handlers.SendVerifyCodeRequest:
    properties:
      country_code:
        description: 手机号国家代码，默认为卢旺达(RW)
        type: string
      email:
        description: 邮箱地址，有则发送邮箱验证码
        type: string
      phone:
        description: 手机号码，有则发送短信验证码
        type: string
      type:
        description: 验证码类型
        enum:
        - register
        - login
        - reset_password
        - change_phone
        - change_email
        type: string
      user_type:
        description: 用户类型，用于区分同一联系方式的不同身份
        enum:
        - passenger
        - driver
        type: string
    required:
    - type
    - user_type
    type: object
  handlers.UpdateProfileRequest:
    properties:
      address:
        type: string
      avatar:
        type: string
      birthday:
        type: integer
      city:
        type: string
      country:
        type: string
      display_name:
        type: string
      first_name:
        type: string
      gender:
        type: string
      language:
        type: string
      last_name:
        type: string
      postal_code:
        type: string
      state:
        type: string
      timezone:
        type: string
    type: object
  handlers.UserVehicleRequest:
    type: object
  handlers.VerifyCodeRequest:
    properties:
      code:
        description: 验证码
        type: string
      email:
        type: string
      method:
        description: email, phone
        type: string
      new_email:
        description: 更换邮箱时需要
        type: string
      new_password:
        description: 重置密码时需要
        type: string
      new_phone:
        description: 更换手机时需要
        type: string
      phone:
        type: string
      type:
        description: 验证码类型
        type: string
      user_id:
        description: 某些情况下需要用户ID
        type: string
      user_type:
        description: 用户类型，用于区分同一联系方式的不同身份
        enum:
        - passenger
        - driver
        type: string
    required:
    - code
    - method
    - type
    - user_type
    type: object
  models.Admin:
    properties:
      actions_this_month:
        type: integer
      actions_this_week:
        type: integer
      actions_today:
        description: 统计数据
        type: integer
      active_status:
        description: online, offline, busy
        type: string
      admin_id:
        type: string
      allowed_ips:
        description: 允许的IP地址列表
        type: string
      approved_at:
        type: integer
      approved_by:
        type: string
      avatar:
        type: string
      created_at:
        type: integer
      created_by:
        description: 审计信息
        type: string
      current_session_id:
        description: 会话管理
        type: string
      date_format:
        type: string
      department:
        description: 部门
        type: string
      email:
        type: string
      email_verified:
        type: boolean
      emergency_contact:
        type: string
      failed_attempts:
        type: integer
      first_name:
        description: 个人信息
        type: string
      full_name:
        type: string
      id:
        type: integer
      job_title:
        description: 职位
        type: string
      language:
        description: 偏好设置
        type: string
      last_failed_at:
        type: integer
      last_login_at:
        description: 登录相关
        type: integer
      last_login_ip:
        type: string
      last_name:
        type: string
      last_updated_by:
        type: string
      locked_until:
        type: integer
      login_count:
        type: integer
      max_concurrent_sessions:
        type: integer
      metadata:
        description: 元数据
        type: string
      must_change_password:
        type: boolean
      notes:
        type: string
      office_address:
        type: string
      office_phone:
        description: 联系信息
        type: string
      password_changed_at:
        description: 安全设置
        type: integer
      permissions:
        description: JSON数组存储权限列表
        type: string
      phone:
        type: string
      phone_verified:
        type: boolean
      preferences:
        description: JSON对象存储个人偏好
        type: string
      role:
        description: 角色和权限
        type: string
      salt:
        type: string
      security_question:
        type: string
      session_count:
        type: integer
      status:
        description: 状态管理
        type: string
      suspended_at:
        type: integer
      suspended_by:
        type: string
      suspension_reason:
        type: string
      tags:
        description: 逗号分隔的标签
        type: string
      time_format:
        type: string
      timezone:
        type: string
      total_actions:
        type: integer
      two_factor_enabled:
        type: boolean
      updated_at:
        type: integer
      username:
        description: 基本信息
        type: string
      working_areas:
        description: JSON数组存储负责区域
        type: string
      working_hours:
        description: 工作时间和区域
        type: string
      working_timezone:
        type: string
    type: object
  models.Order:
    properties:
      accepted_at:
        description: 接单时间
        type: integer
      cancel_reason:
        type: string
      cancellation_fee:
        type: number
      cancelled_at:
        description: 取消时间
        type: integer
      cancelled_by:
        description: 取消信息
        type: string
      completed_at:
        description: 完成时间
        type: integer
      created_at:
        type: integer
      currency:
        description: 金额信息
        type: string
      discount_amount:
        type: number
      estimated_amount:
        type: number
      final_amount:
        type: number
      id:
        type: integer
      metadata:
        additionalProperties: true
        description: 扩展信息
        type: object
      notes:
        description: 备注信息
        type: string
      order_id:
        type: string
      order_type:
        description: 订单基础信息
        type: string
      payment_method_id:
        type: string
      payment_status:
        type: string
      payment_type:
        description: 支付信息
        type: string
      platform_fee:
        type: number
      promo_code:
        description: 优惠信息
        type: string
      promo_discount:
        type: number
      provider_comment:
        type: string
      provider_id:
        description: 服务提供者ID
        type: string
      provider_rating:
        description: 服务提供者评分
        type: number
      salt:
        type: string
      schedule_type:
        description: instant, scheduled
        type: string
      scheduled_at:
        description: 时间信息
        type: integer
      service_type:
        description: standard, premium, luxury
        type: string
      started_at:
        description: 开始服务时间
        type: integer
      status:
        description: 订单状态
        type: string
      total_amount:
        type: number
      transaction_id:
        type: string
      updated_at:
        type: integer
      user_comment:
        type: string
      user_id:
        description: 用户关联信息
        type: string
      user_rating:
        description: 评价信息
        type: number
      version:
        description: 版本号（乐观锁）
        type: integer
    type: object
  models.PriceRuleV2:
    properties:
      applicable_rides:
        description: JSON数组：适用订单类型
        type: string
      approval_notes:
        description: 审批备注
        type: string
      approved_at:
        description: 审批时间
        type: integer
      approved_by:
        description: 审批人
        type: string
      auto_apply:
        description: 是否自动应用
        type: boolean
      base_rate:
        description: 价格计算
        type: number
      case_sensitive:
        description: 促销码是否区分大小写
        type: boolean
      category:
        description: base_pricing, surge_pricing, discount, promotion, special_offer
        type: string
      click_count:
        description: 点击次数
        type: integer
      cost_saved:
        description: 为用户节省的费用
        type: number
      created_at:
        type: integer
      created_by:
        description: 审批信息
        type: string
      day_of_week:
        description: 时间限制
        type: string
      demand_factor:
        description: 动态定价参数
        type: number
      description:
        type: string
      discount_amount:
        description: 折扣/加价
        type: number
      discount_percent:
        description: 折扣百分比
        type: number
      discount_type:
        description: percentage, fixed, buy_x_get_y, free_delivery
        type: string
      display_name:
        type: string
      end_date:
        description: 生效结束时间
        type: integer
      event_factor:
        description: 事件系数
        type: number
      excluded_dates:
        description: JSON数组：排除日期
        type: string
      exclusive_rules:
        description: JSON数组：互斥的规则ID
        type: string
      id:
        type: integer
      included_dates:
        description: JSON数组：特定日期
        type: string
      is_global:
        description: 是否全局规则
        type: boolean
      max_discount:
        description: 最大折扣金额
        type: number
      max_distance:
        description: 最大距离
        type: number
      max_duration:
        description: 最大时长(分钟)
        type: integer
      max_usage_per_day:
        description: 每日最大使用次数
        type: integer
      max_usage_per_user:
        description: 使用限制
        type: integer
      max_usage_total:
        description: 总最大使用次数
        type: integer
      maximum_fare:
        description: 最高收费
        type: number
      metadata:
        description: 元数据
        type: string
      min_distance:
        description: 条件限制
        type: number
      min_duration:
        description: 最小时长(分钟)
        type: integer
      min_order_amount:
        description: 最小订单金额
        type: number
      minimum_fare:
        description: 最低收费
        type: number
      notes:
        description: 备注
        type: string
      per_km_rate:
        description: 每公里价格
        type: number
      per_minute_rate:
        description: 每分钟价格
        type: number
      price_rule_id:
        type: string
      pricing_model:
        description: distance_based, time_based, fixed_rate, dynamic
        type: string
      priority:
        description: 优先级(数字越小优先级越高)
        type: integer
      promo_code:
        description: 促销码相关
        type: string
      requires_code:
        description: 是否需要优惠码
        type: boolean
      revenue_impact:
        description: 收入影响
        type: number
      rule_name:
        description: 基本信息
        type: string
      rule_type:
        description: 规则类型
        type: string
      salt:
        type: string
      service_areas:
        description: JSON数组：适用区域
        type: string
      stackable_rules:
        description: 组合规则
        type: string
      start_date:
        description: 时间范围
        type: integer
      status:
        description: 状态管理
        type: string
      supply_factor:
        description: 供给系数
        type: number
      surge_multiplier:
        description: 涌潮加价倍数
        type: number
      tags:
        description: 标签
        type: string
      tiered_rules:
        description: 阶梯定价
        type: string
      time_slots:
        description: JSON数组：时间段限制
        type: string
      timezone:
        description: 时区
        type: string
      updated_at:
        type: integer
      usage_count:
        description: 已使用次数
        type: integer
      usage_today:
        description: 今日使用次数
        type: integer
      user_categories:
        description: JSON数组：用户类型 (new, premium, regular)
        type: string
      vehicle_types:
        description: 适用范围
        type: string
      view_count:
        description: 统计信息
        type: integer
      weather_factor:
        description: 天气系数
        type: number
    type: object
  models.PromoCodeV2:
    properties:
      activated_at:
        description: 激活时间
        type: integer
      anti_abuse_rules:
        description: 反作弊规则
        type: string
      approval_notes:
        description: 审批备注
        type: string
      approval_status:
        description: 审批流程
        type: string
      approved_at:
        description: 审批时间
        type: integer
      approved_by:
        description: 审批人
        type: string
      attribution_data:
        description: 归因数据
        type: string
      auto_issue_rule:
        description: 自动发放规则
        type: string
      banner_url:
        description: 横幅URL
        type: string
      campaign_id:
        description: 分析追踪
        type: string
      claim_count:
        description: 领取次数
        type: integer
      code:
        description: 基本信息
        type: string
      color_scheme:
        description: 颜色主题
        type: string
      combinable_with_other:
        description: 组合限制
        type: boolean
      control_group:
        description: 是否对照组
        type: boolean
      conversion_rate:
        description: 转化率
        type: number
      cost_per_use:
        description: 成本和收益
        type: number
      created_at:
        type: integer
      created_by:
        description: 创建者信息
        type: string
      creator_id:
        description: 创建者ID
        type: string
      creator_type:
        description: admin, system, auto, merchant
        type: string
      custom_fields:
        description: 自定义字段
        type: string
      daily_usage_limit:
        description: 每日使用限制
        type: integer
      description:
        description: 优惠券描述
        type: string
      discount_type:
        description: 优惠信息
        type: string
      discount_value:
        description: 优惠金额或百分比
        type: number
      end_date:
        description: 结束日期
        type: integer
      estimated_roi:
        description: 预计投资回报率
        type: number
      excluded_areas:
        description: 排除区域
        type: string
      excluded_user_ids:
        description: 排除用户ID列表
        type: string
      exclusive_with:
        description: 排斥的优惠类型
        type: string
      experiment_id:
        description: A/B测试
        type: string
      expiry_notify_days:
        description: 过期前几天通知
        type: integer
      external_notes:
        description: 外部备注
        type: string
      icon_url:
        description: 图标URL
        type: string
      id:
        type: integer
      internal_notes:
        description: 内部备注
        type: string
      is_active:
        description: 是否激活
        type: boolean
      is_automatic:
        description: 是否自动应用
        type: boolean
      is_public:
        description: 是否公开
        type: boolean
      issue_end_date:
        description: 发放结束时间
        type: integer
      issue_start_date:
        description: 发放开始时间
        type: integer
      issue_type:
        description: 发放方式
        type: string
      landing_page_url:
        description: 落地页链接
        type: string
      last_claimed_at:
        description: 最后领取时间
        type: integer
      last_used_at:
        description: 时间记录
        type: integer
      last_viewed_at:
        description: 最后查看时间
        type: integer
      marketing_text:
        description: 营销信息
        type: string
      max_discount_amount:
        description: 最大优惠金额
        type: number
      max_distance:
        description: 最大距离（公里）
        type: number
      metadata:
        description: 元数据
        type: string
      min_distance:
        description: 最小距离（公里）
        type: number
      min_duration:
        description: 最小时长（分钟）
        type: integer
      min_order_amount:
        description: 最小订单金额
        type: number
      min_user_level:
        description: 最低用户等级
        type: integer
      notify_on_claim:
        description: 通知设置
        type: boolean
      notify_on_expiry:
        description: 过期前通知
        type: boolean
      notify_on_use:
        description: 使用时通知
        type: boolean
      priority:
        description: 优先级和权重
        type: integer
      promo_code_id:
        type: string
      promo_type:
        description: discount, cashback, free_ride, upgrade, points
        type: string
      referrer_id:
        description: 推荐人ID
        type: string
      required_promo_codes:
        description: 需要的前置优惠码
        type: string
      requires_code:
        description: 是否需要输入代码
        type: boolean
      risk_score:
        description: 风险评分
        type: number
      salt:
        type: string
      security_level:
        description: 欺诈防护
        type: string
      share_count:
        description: 分享次数
        type: integer
      share_text:
        description: 分享文案
        type: string
      share_url:
        description: 分享链接
        type: string
      show_description:
        description: 是否显示描述
        type: boolean
      show_in_list:
        description: 显示设置
        type: boolean
      sort_order:
        description: 排序
        type: integer
      source_channel:
        description: 来源渠道
        type: string
      start_date:
        description: 时间限制
        type: integer
      status:
        description: 状态管理
        type: string
      suspended_at:
        description: 暂停时间
        type: integer
      tags:
        description: 扩展信息
        type: string
      target_user_segment:
        description: 用户细分
        type: string
      target_user_type:
        description: 用户限制
        type: string
      test_group:
        description: 测试组
        type: string
      title:
        description: 优惠券标题
        type: string
      total_budget:
        description: 总预算
        type: number
      updated_at:
        type: integer
      usage_count:
        description: 已使用次数
        type: integer
      usage_limit:
        description: 使用限制
        type: integer
      used_budget:
        description: 已用预算
        type: number
      user_usage_limit:
        description: 单用户使用限制
        type: integer
      valid_app_versions:
        description: 有效应用版本
        type: string
      valid_channels:
        description: 渠道限制
        type: string
      valid_cities:
        description: 地理限制
        type: string
      valid_days:
        description: 有效天数（从领取开始）
        type: integer
      valid_hours:
        description: 有效时间段 "09:00-18:00"
        type: string
      valid_platforms:
        description: ios, android, web
        type: string
      valid_service_areas:
        description: 有效服务区域
        type: string
      valid_service_types:
        description: 有效服务类型
        type: string
      valid_vehicle_types:
        description: 订单限制
        type: string
      valid_weekdays:
        description: 有效星期 "1,2,3,4,5"
        type: string
      variant_id:
        description: 变体ID
        type: string
      view_count:
        description: 统计信息
        type: integer
      weight:
        description: 权重
        type: number
    type: object
  models.User:
    properties:
      address:
        description: 联系信息
        type: string
      app_version:
        type: string
      avatar:
        type: string
      birthday:
        type: integer
      city:
        type: string
      country:
        type: string
      country_code:
        type: string
      created_at:
        type: integer
      device_id:
        type: string
      device_type:
        description: ios, android, web
        type: string
      display_name:
        type: string
      email:
        type: string
      email_verified_at:
        type: integer
      fcm_token:
        description: 设备和认证信息
        type: string
      first_name:
        type: string
      gender:
        description: male, female, other
        type: string
      id:
        type: integer
      invite_code:
        description: 推荐系统
        type: string
      invite_count:
        type: integer
      invited_by:
        type: string
      is_active:
        type: boolean
      is_email_verified:
        type: boolean
      is_phone_verified:
        type: boolean
      language:
        type: string
      last_login_at:
        description: 时间戳
        type: integer
      last_name:
        type: string
      last_updated_by:
        description: 最后更新者ID
        type: string
      latitude:
        description: 位置信息
        type: number
      license_expiry:
        type: integer
      license_number:
        description: 司机相关信息
        type: string
      location_updated_at:
        type: integer
      longitude:
        type: number
      metadata:
        description: 扩展信息
        type: string
      notes:
        description: 管理员操作记录
        type: string
      online_status:
        description: online, offline, busy
        type: string
      phone:
        type: string
      phone_verified_at:
        type: integer
      postal_code:
        type: string
      salt:
        type: string
      score:
        description: 通用评分和行程信息
        type: number
      state:
        type: string
      status:
        description: 状态信息
        type: string
      timezone:
        type: string
      total_rides:
        type: integer
      updated_at:
        type: integer
      user_id:
        type: string
      user_type:
        description: user, driver
        type: string
      username:
        type: string
    type: object
  protocol.AdminChangePasswordRequest:
    properties:
      new_password:
        description: 新密码
        type: string
      old_password:
        description: 旧密码
        type: string
    required:
    - new_password
    - old_password
    type: object
  protocol.AdminCreateRequest:
    properties:
      department:
        description: 部门
        type: string
      email:
        description: 邮箱
        type: string
      first_name:
        description: 名字
        type: string
      job_title:
        description: 职位
        type: string
      last_name:
        description: 姓氏
        type: string
      password:
        description: 密码
        minLength: 6
        type: string
      role:
        description: 角色
        type: string
      username:
        description: 用户名
        maxLength: 50
        minLength: 3
        type: string
    required:
    - email
    - password
    - role
    - username
    type: object
  protocol.AdminLoginRequest:
    properties:
      password:
        description: 密码
        type: string
      username:
        description: 用户名
        type: string
    required:
    - password
    - username
    type: object
  protocol.AdminOrderCancelRequest:
    properties:
      order_id:
        description: 订单ID
        type: string
      reason:
        description: 取消原因
        type: string
      user_id:
        description: 用户ID
        type: string
    required:
    - order_id
    - reason
    - user_id
    type: object
  protocol.AdminResetPasswordRequest:
    properties:
      new_password:
        description: 新密码
        type: string
      target_admin_id:
        description: 目标管理员ID
        type: string
    required:
    - new_password
    - target_admin_id
    type: object
  protocol.AdminUpdateRequest:
    properties:
      department:
        description: 部门
        type: string
      email:
        description: 邮箱
        type: string
      first_name:
        description: 名字
        type: string
      id:
        description: 管理员ID
        type: string
      job_title:
        description: 职位
        type: string
      last_name:
        description: 姓氏
        type: string
      role:
        description: 角色
        type: string
      status:
        description: 状态
        type: string
      username:
        description: 用户名
        type: string
    required:
    - id
    type: object
  protocol.AppliedRuleInfoV2:
    properties:
      amount:
        type: number
      category:
        type: string
      description:
        type: string
      effect:
        type: string
      rule_id:
        type: string
      rule_name:
        type: string
      rule_version:
        type: string
    type: object
  protocol.CalculationStatsV2:
    properties:
      calculation_time_ms:
        type: integer
      engine_version:
        type: string
      rules_applied:
        type: integer
      rules_evaluated:
        type: integer
    type: object
  protocol.CreateOrderRatingAPIRequest:
    properties:
      comment:
        description: 评价内容
        type: string
      order_id:
        description: 订单ID
        type: string
      rating:
        description: 评分 1-5
        maximum: 5
        minimum: 1
        type: number
    required:
    - order_id
    - rating
    type: object
  protocol.CreateOrderRequest:
    properties:
      currency:
        type: string
      dropoff_address:
        type: string
      dropoff_landmark:
        type: string
      dropoff_latitude:
        type: number
      dropoff_longitude:
        type: number
      estimated_amount:
        description: 金额信息
        type: number
      estimated_distance:
        type: number
      estimated_duration:
        type: integer
      notes:
        description: 扩展信息
        type: string
      order_type:
        description: 订单基础信息
        type: string
      passenger_count:
        description: 网约车详情（扁平化字段，当order_type=ride时使用）
        type: integer
      payment_method_id:
        type: string
      payment_type:
        description: 支付信息
        enum:
        - card
        - cash
        - wallet
        type: string
      pickup_address:
        type: string
      pickup_landmark:
        type: string
      pickup_latitude:
        type: number
      pickup_longitude:
        type: number
      promo_code:
        type: string
      ride_type:
        type: string
      schedule_type:
        description: 时间信息
        type: string
      scheduled_at:
        type: integer
      service_type:
        description: 服务级别
        enum:
        - standard
        - premium
        - luxury
        type: string
      total_amount:
        type: number
      user_id:
        description: 用户ID
        type: string
    required:
    - estimated_amount
    - payment_type
    - service_type
    - total_amount
    type: object
  protocol.EstimateOrderRequest:
    properties:
      dropoff_latitude:
        type: number
      dropoff_longitude:
        type: number
      order_type:
        description: 订单类型和服务级别
        type: string
      pickup_latitude:
        description: 通用位置信息
        type: number
      pickup_longitude:
        type: number
      service_type:
        description: 服务级别
        enum:
        - standard
        - premium
        - luxury
        type: string
    required:
    - dropoff_latitude
    - dropoff_longitude
    - pickup_latitude
    - pickup_longitude
    - service_type
    type: object
  protocol.EstimateOrderResponse:
    properties:
      base_fare:
        description: 起步价
        type: number
      currency:
        description: 货币
        type: string
      distance:
        description: 距离（公里）
        type: number
      distance_fare:
        description: 里程费
        type: number
      duration:
        description: 预计用时（分钟）
        type: integer
      estimated_fare:
        description: 预估费用
        type: number
      order_type:
        description: 订单类型
        type: string
      service_fee:
        description: 服务费
        type: number
      service_type:
        description: 服务级别
        type: string
      time_fare:
        description: 时长费
        type: number
    type: object
  protocol.EstimateOrderV2Request:
    properties:
      dropoff_latitude:
        type: number
      dropoff_longitude:
        type: number
      enable_snapshot:
        description: 快照选项
        type: boolean
      estimated_distance:
        description: 可选信息
        type: number
      estimated_duration:
        type: integer
      order_type:
        description: 基础信息
        type: string
      payment_method:
        type: string
      pickup_latitude:
        description: 位置信息
        type: number
      pickup_longitude:
        type: number
      promo_code:
        type: string
      service_area:
        type: string
      service_type:
        description: 服务级别
        enum:
        - standard
        - premium
        - luxury
        type: string
      snapshot_duration:
        description: 快照有效期(分钟)，默认30
        type: integer
    required:
    - dropoff_latitude
    - dropoff_longitude
    - pickup_latitude
    - pickup_longitude
    - service_type
    type: object
  protocol.EstimateOrderV2Response:
    properties:
      applied_rules:
        description: 应用的规则
        items:
          $ref: '#/definitions/protocol.AppliedRuleInfoV2'
        type: array
      calculation_stats:
        allOf:
        - $ref: '#/definitions/protocol.CalculationStatsV2'
        description: 计算统计
      currency:
        type: string
      estimated_fare:
        type: number
      order_type:
        type: string
      price_breakdown:
        allOf:
        - $ref: '#/definitions/protocol.PriceBreakdownV2'
        description: 价格明细
      service_type:
        type: string
      snapshot_id:
        description: 基础信息
        type: string
      snapshot_info:
        allOf:
        - $ref: '#/definitions/protocol.SnapshotInfoV2'
        description: 快照信息
    type: object
  protocol.GetNearbyOrdersRequest:
    properties:
      latitude:
        type: number
      limit:
        description: 数量限制
        type: integer
      longitude:
        type: number
      order_type:
        description: 订单类型过滤
        type: string
      radius:
        description: 半径（公里）
        type: number
    type: object
  protocol.GetOrdersRequest:
    properties:
      end_date:
        description: 结束日期过滤 (时间戳毫秒)
        type: integer
      limit:
        type: integer
      order_type:
        description: 可选的类型过滤
        type: string
      page:
        type: integer
      start_date:
        description: 开始日期过滤 (时间戳毫秒)
        type: integer
      status:
        description: 可选的状态过滤
        type: string
      user_id:
        type: string
      user_type:
        description: 用户类型
        type: string
    type: object
  protocol.IDRequest:
    properties:
      id:
        description: ID
        type: string
    required:
    - id
    type: object
  protocol.LockSnapshotRequest:
    properties:
      order_id:
        type: string
      snapshot_id:
        type: string
    required:
    - order_id
    - snapshot_id
    type: object
  protocol.Order:
    properties:
      accepted_at:
        type: integer
      cancelled_at:
        type: integer
      completed_at:
        type: integer
      created_at:
        type: integer
      currency:
        type: string
      details:
        allOf:
        - $ref: '#/definitions/protocol.OrderDetail'
        description: 订单详情（兼容所有订单类型）
      estimated_amount:
        description: 金额信息
        type: number
      final_amount:
        type: number
      metadata:
        additionalProperties: true
        type: object
      notes:
        description: 其他信息
        type: string
      order_id:
        description: 基础信息
        type: string
      order_type:
        type: string
      payment_method_id:
        type: string
      payment_status:
        type: string
      payment_type:
        description: 支付信息
        type: string
      promo_code:
        type: string
      provider:
        $ref: '#/definitions/protocol.User'
      provider_id:
        type: string
      provider_ratings:
        items:
          $ref: '#/definitions/protocol.Rating'
        type: array
      schedule_type:
        description: 时间信息
        type: string
      scheduled_at:
        type: integer
      service_type:
        type: string
      started_at:
        type: integer
      status:
        type: string
      total_amount:
        type: number
      user:
        $ref: '#/definitions/protocol.User'
      user_id:
        type: string
      user_ratings:
        items:
          $ref: '#/definitions/protocol.Rating'
        type: array
      vehicle:
        $ref: '#/definitions/protocol.Vehicle'
      version:
        type: integer
    type: object
  protocol.OrderAcceptRequest:
    properties:
      order_id:
        description: 订单ID
        type: string
    required:
    - order_id
    type: object
  protocol.OrderCancelAPIRequest:
    properties:
      order_id:
        description: 订单ID
        type: string
      reason:
        description: 取消原因
        type: string
    required:
    - order_id
    type: object
  protocol.OrderDetail:
    properties:
      actual_distance:
        type: number
      actual_duration:
        type: integer
      courier_id:
        type: string
      courier_name:
        type: string
      courier_phone:
        type: string
      courier_rating:
        type: number
      delivery_address:
        type: string
      delivery_latitude:
        type: number
      delivery_longitude:
        type: number
      driver_id:
        description: 司机信息
        type: string
      driver_name:
        type: string
      driver_phone:
        type: string
      driver_rating:
        type: number
      dropoff_address:
        type: string
      dropoff_landmark:
        type: string
      dropoff_latitude:
        type: number
      dropoff_longitude:
        type: number
      estimated_distance:
        type: number
      estimated_duration:
        type: integer
      license_plate:
        type: string
      order_id:
        description: 通用字段
        type: string
      order_type:
        type: string
      passenger_count:
        type: integer
      passenger_id:
        description: 网约车详情字段（当order_type=ride时使用）
        type: string
      passenger_name:
        type: string
      passenger_phone:
        type: string
      pickup_address:
        type: string
      pickup_landmark:
        type: string
      pickup_latitude:
        type: number
      pickup_longitude:
        type: number
      restaurant_address:
        type: string
      restaurant_id:
        description: 外卖详情字段（当order_type=delivery时使用，预留）
        type: string
      restaurant_name:
        type: string
      restaurant_phone:
        type: string
      ride_type:
        type: string
      service_type:
        type: string
      shipping_address:
        type: string
      store_address:
        type: string
      store_id:
        description: 购物详情字段（当order_type=shopping时使用，预留）
        type: string
      store_name:
        type: string
      tracking_number:
        type: string
      vehicle_color:
        type: string
      vehicle_id:
        description: 车辆信息
        type: string
      vehicle_model:
        type: string
      vehicle_photo:
        type: string
    type: object
  protocol.OrderIDRequest:
    properties:
      order_id:
        description: 订单ID
        type: string
    required:
    - order_id
    type: object
  protocol.OrderSearchRequest:
    properties:
      end_date:
        description: 结束日期 (时间戳毫秒)
        type: integer
      keyword:
        description: 搜索关键字
        type: string
      limit:
        description: 每页数量，默认10
        type: integer
      max_amount:
        description: 最大金额
        type: number
      min_amount:
        description: 最小金额
        type: number
      order_type:
        description: 订单类型
        type: string
      page:
        description: 页码，默认1
        type: integer
      payment_status:
        description: 支付状态
        type: string
      provider_id:
        description: 服务提供者ID
        type: string
      start_date:
        description: 开始日期 (时间戳毫秒)
        type: integer
      status:
        description: 订单状态
        type: string
      user_id:
        description: 用户ID
        type: string
    type: object
  protocol.PageResult:
    properties:
      attach:
        additionalProperties: {}
        description: 附加数据
        type: object
      count:
        description: 总记录数
        type: integer
      current:
        description: 当前页码
        type: integer
      records:
        description: 记录列表
      result_type:
        description: 数据类型
        type: string
      size:
        description: 每页记录数
        type: integer
      total:
        description: 总页数
        type: integer
    type: object
  protocol.PriceBreakdownV2:
    properties:
      base_fare:
        type: number
      discount_amount:
        type: number
      distance_fare:
        type: number
      promo_discount:
        type: number
      service_fee:
        type: number
      surge_fare:
        type: number
      time_fare:
        type: number
      total_fare:
        type: number
    type: object
  protocol.PriceRuleListRequest:
    properties:
      category:
        description: 规则分类
        type: string
      keyword:
        description: 搜索关键字
        type: string
      page:
        description: 页码，默认1
        type: integer
      page_size:
        description: 每页数量，默认20
        type: integer
      status:
        description: 规则状态
        type: string
    type: object
  protocol.PriceRuleRequest:
    properties:
      rule_id:
        description: 价格规则ID (对应 models.PriceRuleV2.PriceRuleID)
        type: string
    required:
    - rule_id
    type: object
  protocol.PriceRuleUpdateRequest:
    properties:
      rule_id:
        description: 价格规则ID (对应 models.PriceRuleV2.PriceRuleID)
        type: string
      status:
        description: 新状态
        type: string
    required:
    - rule_id
    - status
    type: object
  protocol.PromotionApproveRequest:
    properties:
      action:
        description: approve, reject
        type: string
      notes:
        description: 审批备注
        type: string
      promo_code_id:
        description: 优惠码ID
        type: string
      user_id:
        description: 用户ID
        type: string
    required:
    - action
    - promo_code_id
    - user_id
    type: object
  protocol.PromotionCreateRequest:
    properties:
      code:
        maxLength: 50
        minLength: 3
        type: string
      creator_id:
        description: 创建者ID
        type: string
      description:
        type: string
      discount_type:
        enum:
        - percentage
        - fixed_amount
        - free
        type: string
      discount_value:
        minimum: 0
        type: number
      end_date:
        type: integer
      is_public:
        type: boolean
      max_discount_amount:
        minimum: 0
        type: number
      min_order_amount:
        minimum: 0
        type: number
      priority:
        minimum: 0
        type: integer
      promo_type:
        enum:
        - discount
        - cashback
        - free_ride
        - upgrade
        - points
        type: string
      start_date:
        type: integer
      tags:
        type: string
      target_user_type:
        enum:
        - all
        - new_user
        - old_user
        - vip
        - driver
        type: string
      title:
        maxLength: 255
        type: string
      usage_limit:
        minimum: 1
        type: integer
      user_usage_limit:
        minimum: 1
        type: integer
      valid_cities:
        type: string
      valid_days:
        minimum: 1
        type: integer
      valid_vehicle_types:
        type: string
    required:
    - code
    - discount_type
    - discount_value
    - promo_type
    - title
    type: object
  protocol.PromotionDetailRequest:
    properties:
      promo_code_id:
        description: 优惠码ID
        type: string
    required:
    - promo_code_id
    type: object
  protocol.PromotionSearchRequest:
    properties:
      is_active:
        description: 是否活跃
        type: boolean
      keyword:
        description: 搜索关键字
        type: string
      limit:
        description: 每页数量，默认10
        type: integer
      page:
        description: 页码，默认1
        type: integer
      status:
        description: 优惠码状态
        type: string
      type:
        description: 优惠码类型
        type: string
      valid_from:
        description: 有效期开始
        type: string
      valid_to:
        description: 有效期结束
        type: string
    type: object
  protocol.PromotionStatusUpdateRequest:
    properties:
      is_active:
        type: boolean
      promo_code_id:
        type: string
      reason:
        type: string
      status:
        enum:
        - active
        - inactive
        - expired
        - suspended
        - deleted
        type: string
      user_id:
        type: string
    required:
    - promo_code_id
    - status
    type: object
  protocol.PromotionUpdateRequest:
    properties:
      description:
        type: string
      discount_value:
        minimum: 0
        type: number
      end_date:
        type: integer
      max_discount_amount:
        minimum: 0
        type: number
      min_order_amount:
        minimum: 0
        type: number
      priority:
        minimum: 0
        type: integer
      promo_code_id:
        type: string
      start_date:
        type: integer
      tags:
        type: string
      title:
        maxLength: 255
        type: string
      usage_limit:
        minimum: 1
        type: integer
      user_usage_limit:
        minimum: 1
        type: integer
      valid_cities:
        type: string
      valid_vehicle_types:
        type: string
    required:
    - promo_code_id
    type: object
  protocol.PromotionUsageRequest:
    properties:
      end_date:
        description: 结束时间
        type: integer
      promo_code_id:
        description: 优惠码ID
        type: string
      start_date:
        description: 开始时间
        type: integer
    required:
    - promo_code_id
    type: object
  protocol.Rating:
    properties:
      comment:
        type: string
      created_at:
        type: integer
      id:
        type: integer
      is_anonymous:
        type: boolean
      order_id:
        type: string
      ratee_id:
        type: string
      ratee_type:
        description: user, provider
        type: string
      rater_id:
        type: string
      rater_type:
        description: user, provider
        type: string
      rating:
        description: 评分 1-5
        type: number
      replied_at:
        type: integer
      reply:
        type: string
      tags:
        type: string
      updated_at:
        type: integer
    type: object
  protocol.RatingIDRequest:
    properties:
      rating_id:
        description: 评价ID
        type: integer
    required:
    - rating_id
    type: object
  protocol.ReplyToRatingRequest:
    properties:
      rating_id:
        description: 评价ID
        type: integer
      reply:
        description: 回复内容
        type: string
    required:
    - rating_id
    - reply
    type: object
  protocol.Result:
    properties:
      code:
        type: string
      data: {}
      msg:
        type: string
    type: object
  protocol.SearchRequest:
    properties:
      is_active:
        description: 是否活跃
        type: boolean
      is_email_verified:
        description: 邮箱是否验证
        type: boolean
      is_phone_verified:
        description: 手机是否验证
        type: boolean
      keyword:
        description: 搜索关键字
        type: string
      limit:
        description: 每页数量，默认10
        type: integer
      max_driver_score:
        description: 最高司机评分 (仅司机)
        type: number
      min_driver_score:
        description: 最低司机评分 (仅司机)
        type: number
      min_total_rides:
        description: 最少接单数 (仅司机)
        type: integer
      online_status:
        description: 在线状态 (仅司机)
        type: string
      page:
        description: 页码，默认1
        type: integer
      status:
        description: 司机相关搜索参数
        type: string
      user_type:
        description: 用户类型 (仅用户搜索)
        type: string
    type: object
  protocol.SnapshotInfoV2:
    properties:
      expires_at:
        type: integer
      is_locked:
        type: boolean
      snapshot_id:
        type: string
    type: object
  protocol.UpdateOrderRatingAPIRequest:
    properties:
      comment:
        description: 评价内容
        type: string
      rating:
        description: 评分 1-5
        maximum: 5
        minimum: 1
        type: number
      rating_id:
        description: 评价ID
        type: integer
    required:
    - rating
    - rating_id
    type: object
  protocol.User:
    properties:
      address:
        description: 联系信息
        type: string
      avatar:
        type: string
      birthday:
        type: integer
      city:
        type: string
      country:
        type: string
      country_code:
        type: string
      created_at:
        description: 时间戳
        type: integer
      display_name:
        type: string
      driver_license_expiry:
        type: integer
      driver_license_number:
        description: 司机相关信息
        type: string
      driver_score:
        type: number
      email:
        type: string
      email_verified_at:
        type: integer
      first_name:
        type: string
      full_name:
        type: string
      gender:
        type: string
      invite_code:
        description: 推荐系统
        type: string
      invite_count:
        type: integer
      is_active:
        type: boolean
      is_email_verified:
        type: boolean
      is_phone_verified:
        type: boolean
      language:
        type: string
      last_login_at:
        type: integer
      last_name:
        type: string
      online_status:
        type: string
      passenger_score:
        description: 乘客相关信息
        type: number
      phone:
        type: string
      phone_verified_at:
        type: integer
      postal_code:
        type: string
      state:
        type: string
      status:
        description: 状态信息
        type: string
      timezone:
        type: string
      total_rides_as_driver:
        type: integer
      total_rides_as_passenger:
        type: integer
      updated_at:
        type: integer
      user_id:
        type: string
      user_type:
        type: string
      username:
        type: string
    type: object
  protocol.UserIDRequest:
    properties:
      user_id:
        description: 用户ID
        type: string
    required:
    - user_id
    type: object
  protocol.UserRidesRequest:
    properties:
      end_date:
        description: 结束日期过滤 (时间戳毫秒)
        type: integer
      limit:
        description: 每页数量，默认10
        type: integer
      order_type:
        description: 订单类型过滤
        type: string
      page:
        description: 页码，默认1
        type: integer
      start_date:
        description: 开始日期过滤 (时间戳毫秒)
        type: integer
      status:
        description: 订单状态过滤
        type: string
      user_id:
        description: 用户ID
        type: string
      user_type:
        description: 用户类型：user(乘客), driver(司机)，空则自动识别
        type: string
    required:
    - user_id
    type: object
  protocol.UserStatusUpdateRequest:
    properties:
      is_active:
        description: true, false
        type: boolean
      status:
        description: active, inactive, suspended, banned
        type: string
      user_id:
        description: 用户ID
        type: string
    required:
    - is_active
    - status
    - user_id
    type: object
  protocol.UserUpdateRequest:
    properties:
      address:
        type: string
      avatar:
        type: string
      birthday:
        type: integer
      city:
        type: string
      country:
        type: string
      country_code:
        type: string
      display_name:
        type: string
      email:
        type: string
      first_name:
        type: string
      gender:
        description: male, female, other
        type: string
      is_active:
        type: boolean
      language:
        type: string
      last_name:
        type: string
      latitude:
        type: number
      longitude:
        type: number
      phone:
        type: string
      postal_code:
        type: string
      state:
        type: string
      status:
        description: active, inactive, suspended, banned
        type: string
      timezone:
        type: string
      user_id:
        description: 用户ID
        type: string
      user_type:
        description: user, driver
        type: string
      username:
        type: string
    required:
    - user_id
    type: object
  protocol.UserVerifyRequest:
    properties:
      is_email_verified:
        description: 邮箱是否验证
        type: boolean
      is_phone_verified:
        description: 手机是否验证
        type: boolean
      user_id:
        description: 用户ID
        type: string
      verified_by:
        description: 验证者ID
        type: string
    required:
    - user_id
    type: object
  protocol.ValidateSnapshotRequest:
    properties:
      snapshot_id:
        type: string
      tolerance:
        description: 价格容差，默认5%
        type: number
    required:
    - snapshot_id
    type: object
  protocol.ValidateSnapshotResponse:
    properties:
      change_ratio:
        type: number
      current_price:
        type: number
      is_valid:
        type: boolean
      price_diff:
        type: number
      reason:
        type: string
      snapshot_price:
        type: number
    type: object
  protocol.Vehicle:
    properties:
      brand:
        type: string
      color:
        type: string
      created_at:
        description: 时间戳
        type: integer
      current_latitude:
        description: 位置信息
        type: number
      current_longitude:
        type: number
      documents:
        items:
          type: string
        type: array
      documents_verified:
        description: 验证状态
        type: boolean
      driver_id:
        type: string
      engine_size:
        type: string
      fuel_type:
        description: petrol, diesel, electric, hybrid
        type: string
      has_air_conditioner:
        description: 车辆特性
        type: boolean
      has_bluetooth:
        type: boolean
      has_charger:
        type: boolean
      has_gps:
        type: boolean
      has_wifi:
        type: boolean
      inspection_date:
        type: string
      inspection_expiry:
        type: string
      inspection_passed:
        type: boolean
      insurance_company:
        type: string
      insurance_expiry:
        type: string
      insurance_policy_number:
        type: string
      is_active:
        type: boolean
      is_available:
        type: boolean
      is_verified:
        type: boolean
      last_service_date:
        description: 维护信息
        type: string
      last_used_at:
        description: 使用信息
        type: integer
      location_updated_at:
        type: integer
      model:
        type: string
      next_service_due:
        type: string
      notes:
        type: string
      photos:
        description: 文档和图片
        items:
          type: string
        type: array
      plate_number:
        type: string
      rating:
        description: 评价和统计
        type: number
      registration_expiry:
        type: string
      registration_number:
        description: 注册和保险信息
        type: string
      seat_capacity:
        type: integer
      service_mileage:
        type: integer
      status:
        description: 状态信息
        type: string
      total_distance:
        type: number
      total_mileage:
        type: integer
      total_rides:
        type: integer
      transmission:
        description: manual, automatic
        type: string
      updated_at:
        type: integer
      vehicle_id:
        description: 基础信息
        type: string
      vehicle_type:
        description: 车辆类型和配置
        type: string
      verified_at:
        type: integer
      vin:
        type: string
      year:
        type: integer
    type: object
  protocol.VehicleCreateRequest:
    properties:
      brand:
        description: 品牌
        type: string
      color:
        description: 颜色
        type: string
      documents:
        description: 车辆文档
        items:
          type: string
        type: array
      engine_size:
        description: 引擎大小
        type: string
      fuel_type:
        description: 燃料类型
        type: string
      has_air_conditioner:
        description: 车辆特性
        type: boolean
      has_bluetooth:
        description: 是否有蓝牙
        type: boolean
      has_charger:
        description: 是否有充电器
        type: boolean
      has_gps:
        description: 是否有GPS
        type: boolean
      has_wifi:
        description: 是否有WiFi
        type: boolean
      insurance_company:
        description: 保险公司
        type: string
      insurance_expiry:
        description: 保险到期日
        type: string
      insurance_policy_number:
        description: 保险单号
        type: string
      model:
        description: 型号
        type: string
      notes:
        description: 其他信息
        type: string
      photos:
        description: 文档和图片
        items:
          type: string
        type: array
      plate_number:
        description: 车牌号
        type: string
      registration_expiry:
        description: 注册到期日
        type: string
      registration_number:
        description: 注册和保险信息
        type: string
      seat_capacity:
        description: 座位数
        type: integer
      transmission:
        description: 变速箱类型
        type: string
      vehicle_type:
        description: 车辆类型
        type: string
      vin:
        description: 车辆识别号
        type: string
      year:
        description: 年份
        type: integer
    required:
    - brand
    - color
    - fuel_type
    - model
    - plate_number
    - seat_capacity
    - transmission
    - vehicle_type
    - year
    type: object
  protocol.VehicleDeleteRequest:
    properties:
      reason:
        description: 删除原因
        type: string
      vehicle_id:
        description: 车辆ID
        type: string
    required:
    - vehicle_id
    type: object
  protocol.VehicleDetailRequest:
    properties:
      vehicle_id:
        description: 车辆ID
        type: string
    required:
    - vehicle_id
    type: object
  protocol.VehicleListRequest:
    properties:
      driver_id:
        description: 司机ID
        type: string
      is_active:
        description: 是否活跃
        type: boolean
      is_verified:
        description: 是否已验证
        type: boolean
      keyword:
        description: 搜索关键字
        type: string
      limit:
        description: 每页数量，默认10
        type: integer
      page:
        description: 页码，默认1
        type: integer
      status:
        description: 车辆状态
        type: string
      vehicle_type:
        description: 车辆类型
        type: string
      year_from:
        description: 年份范围开始
        type: integer
      year_to:
        description: 年份范围结束
        type: integer
    type: object
  protocol.VehicleSearchRequest:
    properties:
      driver_id:
        description: 司机ID
        type: string
      is_active:
        description: 是否活跃
        type: boolean
      is_verified:
        description: 是否已验证
        type: boolean
      keyword:
        description: 搜索关键字
        type: string
      limit:
        description: 每页数量，默认10
        type: integer
      page:
        description: 页码，默认1
        type: integer
      status:
        description: 车辆状态
        type: string
      vehicle_type:
        description: 车辆类型
        type: string
      year_from:
        description: 年份范围开始
        type: integer
      year_to:
        description: 年份范围结束
        type: integer
    type: object
  protocol.VehicleStatusUpdateRequest:
    properties:
      is_active:
        description: 是否活跃
        type: boolean
      is_available:
        description: 是否可用
        type: boolean
      is_verified:
        description: 是否已验证
        type: boolean
      status:
        description: 车辆状态
        type: string
      vehicle_id:
        description: 车辆ID
        type: string
    required:
    - status
    - vehicle_id
    type: object
  protocol.VehicleUpdateRequest:
    properties:
      brand:
        description: 基础信息（可选）
        type: string
      color:
        description: 颜色
        type: string
      documents:
        description: 车辆文档
        items:
          type: string
        type: array
      engine_size:
        description: 引擎大小
        type: string
      fuel_type:
        description: 燃料类型
        type: string
      has_air_conditioner:
        description: 车辆特性（可选）
        type: boolean
      has_bluetooth:
        description: 是否有蓝牙
        type: boolean
      has_charger:
        description: 是否有充电器
        type: boolean
      has_gps:
        description: 是否有GPS
        type: boolean
      has_wifi:
        description: 是否有WiFi
        type: boolean
      insurance_company:
        description: 保险公司
        type: string
      insurance_expiry:
        description: 保险到期日
        type: string
      insurance_policy_number:
        description: 保险单号
        type: string
      last_service_date:
        description: 维护信息（可选）
        type: string
      model:
        description: 型号
        type: string
      next_service_due:
        description: 下次保养日期
        type: string
      notes:
        description: 其他信息（可选）
        type: string
      photos:
        description: 文档和图片（可选）
        items:
          type: string
        type: array
      plate_number:
        description: 车牌号
        type: string
      registration_expiry:
        description: 注册到期日
        type: string
      registration_number:
        description: 注册和保险信息（可选）
        type: string
      seat_capacity:
        description: 座位数
        type: integer
      service_mileage:
        description: 保养里程
        type: integer
      total_mileage:
        description: 总里程
        type: integer
      transmission:
        description: 变速箱类型
        type: string
      vehicle_id:
        description: 车辆ID
        type: string
      vehicle_type:
        description: 车辆类型和配置（可选）
        type: string
      vin:
        description: 车辆识别号
        type: string
      year:
        description: 年份
        type: integer
    required:
    - vehicle_id
    type: object
  services.CreatePriceRuleRequest:
    properties:
      applicable_rides:
        items:
          type: string
        type: array
      category:
        description: base_pricing, surge_pricing, discount, promotion, special_offer
        type: string
      description:
        type: string
      discount_amount:
        type: number
      discount_percent:
        type: number
      end_date:
        type: integer
      max_usage_per_user:
        type: integer
      max_usage_total:
        type: integer
      maximum_fare:
        type: number
      metadata:
        additionalProperties: true
        type: object
      minimum_fare:
        type: number
      priority:
        type: integer
      promo_code:
        type: string
      requires_code:
        type: boolean
      rule_name:
        type: string
      rule_type:
        description: percentage, fixed_amount, multiplier, tiered, custom
        type: string
      service_areas:
        items:
          type: string
        type: array
      start_date:
        type: integer
      status:
        description: draft, active, paused, expired
        type: string
      surge_multiplier:
        type: number
      user_categories:
        items:
          type: string
        type: array
      vehicle_types:
        items:
          type: string
        type: array
    required:
    - category
    - rule_name
    - rule_type
    type: object
  services.DashboardStats:
    properties:
      active_trips:
        type: integer
      monthly_growth:
        $ref: '#/definitions/services.MonthlyGrowth'
      recent_trips:
        items:
          $ref: '#/definitions/services.RecentTrip'
        type: array
      top_drivers:
        items:
          $ref: '#/definitions/services.TopDriver'
        type: array
      total_drivers:
        type: integer
      total_revenue:
        type: number
      total_trips:
        type: integer
      total_users:
        type: integer
      total_vehicles:
        type: integer
      vehicle_utilization:
        items:
          $ref: '#/definitions/services.VehicleUtilization'
        type: array
    type: object
  services.MonthlyGrowth:
    properties:
      revenue:
        type: number
      trips:
        type: number
      users:
        type: number
    type: object
  services.RecentTrip:
    properties:
      completed_at:
        type: string
      created_at:
        type: string
      distance:
        type: number
      driver_id:
        type: integer
      dropoff_location:
        type: string
      duration:
        type: integer
      fare:
        type: number
      id:
        type: integer
      payment_method:
        type: string
      payment_status:
        type: string
      pickup_location:
        type: string
      rating:
        type: integer
      requested_at:
        type: string
      started_at:
        type: string
      status:
        type: string
      updated_at:
        type: string
      user_id:
        type: integer
      vehicle_id:
        type: integer
    type: object
  services.RevenueData:
    properties:
      date:
        type: string
      revenue:
        type: number
      trips:
        type: integer
      users:
        type: integer
    type: object
  services.TopDriver:
    properties:
      driver_name:
        type: string
      id:
        type: integer
      rating:
        type: number
      status:
        type: string
      total_earnings:
        type: number
      total_trips:
        type: integer
      user_id:
        type: integer
    type: object
  services.UpdatePriceRuleRequest:
    properties:
      applicable_rides:
        items:
          type: string
        type: array
      category:
        type: string
      description:
        type: string
      discount_amount:
        type: number
      discount_percent:
        type: number
      end_date:
        type: integer
      max_usage_per_user:
        type: integer
      max_usage_total:
        type: integer
      maximum_fare:
        type: number
      metadata:
        additionalProperties: true
        type: object
      minimum_fare:
        type: number
      priority:
        type: integer
      promo_code:
        type: string
      requires_code:
        type: boolean
      rule_id:
        description: 价格规则ID (对应 models.PriceRuleV2.PriceRuleID)
        type: string
      rule_name:
        type: string
      rule_type:
        type: string
      service_areas:
        items:
          type: string
        type: array
      start_date:
        type: integer
      status:
        type: string
      surge_multiplier:
        type: number
      user_categories:
        items:
          type: string
        type: array
      vehicle_types:
        items:
          type: string
        type: array
    required:
    - rule_id
    type: object
  services.UserGrowthData:
    properties:
      date:
        type: string
      new_drivers:
        type: integer
      new_users:
        type: integer
      total_drivers:
        type: integer
      total_users:
        type: integer
    type: object
  services.VehicleUtilization:
    properties:
      total_trips:
        type: integer
      utilization_rate:
        type: number
      vehicle_id:
        type: integer
      vehicle_name:
        type: string
    type: object
info:
  contact: {}
  description: |-
    GreenRide API Documentation
    ## Response Codes:
    - 0000: Success - 操作成功
    - 9999: System Error - 系统错误
    - 1000: Parameter Error - 参数错误
    - 1001: Authorization Error - 授权失败
    - 1002: Authentication Expired - 认证过期
    - 2001: User Error - 用户相关错误
    - 4001: Business Error - 业务错误
    - 4002: Data Expired - 数据过期
  title: GreenRide API
  version: "1.0"
paths:
  /admin/admins/create:
    post:
      consumes:
      - application/json
      description: 创建新的管理员账户
      parameters:
      - description: 管理员信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.AdminCreateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/protocol.Result'
            - properties:
                data:
                  $ref: '#/definitions/models.Admin'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 创建新管理员
      tags:
      - 管理员-管理
  /admin/admins/delete:
    post:
      consumes:
      - application/json
      description: 删除指定的管理员账户
      parameters:
      - description: 管理员ID
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.IDRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/protocol.Result'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 删除管理员
      tags:
      - 管理员-管理
  /admin/admins/detail:
    post:
      consumes:
      - application/json
      description: 根据ID获取管理员详细信息
      parameters:
      - description: 管理员ID
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.IDRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/protocol.Result'
            - properties:
                data:
                  $ref: '#/definitions/models.Admin'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 获取管理员详情
      tags:
      - 管理员-管理
  /admin/admins/search:
    post:
      consumes:
      - application/json
      description: 获取管理员列表，支持分页和搜索
      parameters:
      - description: 搜索条件
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.SearchRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/protocol.PageResult'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 获取管理员列表
      tags:
      - 管理员-管理
  /admin/admins/update:
    post:
      consumes:
      - application/json
      description: 更新指定管理员的信息
      parameters:
      - description: 管理员更新信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.AdminUpdateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/protocol.Result'
            - properties:
                data:
                  $ref: '#/definitions/models.Admin'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 更新管理员信息
      tags:
      - 管理员-管理
  /admin/change-password:
    post:
      consumes:
      - application/json
      description: 管理员修改自己的密码
      parameters:
      - description: 密码修改信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.AdminChangePasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/protocol.Result'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 管理员修改密码
      tags:
      - 管理员-认证
  /admin/dashboard/revenue:
    get:
      consumes:
      - application/json
      description: 获取指定时间段的收入趋势图表数据
      parameters:
      - default: 12m
        description: 时间段
        enum:
        - 7d
        - 30d
        - 12m
        in: query
        name: period
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/protocol.Result'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/services.RevenueData'
                  type: array
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 获取收入图表数据
      tags:
      - Dashboard
  /admin/dashboard/stats:
    get:
      consumes:
      - application/json
      description: 获取用户、司机、车辆、行程等核心统计指标
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/protocol.Result'
            - properties:
                data:
                  $ref: '#/definitions/services.DashboardStats'
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 获取仪表盘统计数据
      tags:
      - Dashboard
  /admin/dashboard/user-growth:
    get:
      consumes:
      - application/json
      description: 获取指定时间段的用户和司机增长趋势图表数据
      parameters:
      - default: 12m
        description: 时间段
        enum:
        - 7d
        - 30d
        - 12m
        in: query
        name: period
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/protocol.Result'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/services.UserGrowthData'
                  type: array
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 获取用户增长图表数据
      tags:
      - Dashboard
  /admin/info:
    get:
      consumes:
      - application/json
      description: 获取当前登录管理员的详细信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/protocol.Result'
            - properties:
                data:
                  $ref: '#/definitions/models.Admin'
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 获取当前管理员信息
      tags:
      - 管理员-认证
  /admin/login:
    post:
      consumes:
      - application/json
      description: 管理员用户名密码登录
      parameters:
      - description: 登录信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.AdminLoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/protocol.Result'
            - properties:
                data:
                  $ref: '#/definitions/models.Admin'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      summary: 管理员登录
      tags:
      - 管理员-认证
  /admin/logout:
    post:
      consumes:
      - application/json
      description: 管理员退出登录
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 管理员登出
      tags:
      - 管理员-认证
  /admin/orders/cancel:
    post:
      consumes:
      - application/json
      description: 管理员取消指定订单
      parameters:
      - description: 订单取消信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.AdminOrderCancelRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/protocol.Result'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 取消订单
      tags:
      - 管理员-订单
  /admin/orders/detail:
    post:
      consumes:
      - application/json
      description: 管理员获取单个订单的详细信息
      parameters:
      - description: 订单ID
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.IDRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/protocol.Result'
            - properties:
                data:
                  $ref: '#/definitions/models.Order'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 获取订单详情
      tags:
      - 管理员-订单
  /admin/orders/search:
    post:
      consumes:
      - application/json
      description: 管理员搜索订单，支持多种条件过滤
      parameters:
      - description: 订单搜索条件
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.OrderSearchRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/protocol.PageResult'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 搜索订单
      tags:
      - 管理员-订单
  /admin/price-rules:
    post:
      consumes:
      - application/json
      description: 创建新的价格规则
      parameters:
      - description: 价格规则信息
        in: body
        name: priceRule
        required: true
        schema:
          $ref: '#/definitions/services.CreatePriceRuleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/protocol.Result'
            - properties:
                data:
                  $ref: '#/definitions/models.PriceRuleV2'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 创建价格规则
      tags:
      - 管理员-价格规则
  /admin/price-rules/delete:
    post:
      consumes:
      - application/json
      description: 删除指定的价格规则
      parameters:
      - description: 价格规则RuleID
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.PriceRuleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/protocol.Result'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 删除价格规则
      tags:
      - 管理员-价格规则
  /admin/price-rules/detail:
    post:
      consumes:
      - application/json
      description: 根据RuleID获取价格规则详细信息
      parameters:
      - description: 价格规则RuleID
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.PriceRuleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/protocol.Result'
            - properties:
                data:
                  $ref: '#/definitions/models.PriceRuleV2'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 获取价格规则详情
      tags:
      - 管理员-价格规则
  /admin/price-rules/search:
    post:
      consumes:
      - application/json
      description: 获取价格规则列表，支持分页和过滤
      parameters:
      - description: 查询条件
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.PriceRuleListRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/protocol.PageResult'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 获取价格规则列表
      tags:
      - 管理员-价格规则
  /admin/price-rules/status:
    post:
      consumes:
      - application/json
      description: 更新价格规则的状态（如启用、禁用等）
      parameters:
      - description: 价格规则RuleID和状态信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.PriceRuleUpdateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/protocol.Result'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 更新价格规则状态
      tags:
      - 管理员-价格规则
  /admin/price-rules/update:
    post:
      consumes:
      - application/json
      description: 更新价格规则信息
      parameters:
      - description: 更新的价格规则信息（包含RuleID）
        in: body
        name: priceRule
        required: true
        schema:
          $ref: '#/definitions/services.UpdatePriceRuleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/protocol.Result'
            - properties:
                data:
                  $ref: '#/definitions/models.PriceRuleV2'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 更新价格规则
      tags:
      - 管理员-价格规则
  /admin/promo-codes/approve:
    post:
      consumes:
      - application/json
      description: 管理员审批优惠码申请
      parameters:
      - description: 优惠码审批信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.PromotionApproveRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/protocol.Result'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 审批优惠码
      tags:
      - 管理员-优惠码
  /admin/promo-codes/create:
    post:
      consumes:
      - application/json
      description: 管理员创建新的优惠码
      parameters:
      - description: 优惠码创建信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.PromotionCreateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/protocol.Result'
            - properties:
                data:
                  $ref: '#/definitions/models.PromoCodeV2'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 创建优惠码
      tags:
      - 管理员-优惠码
  /admin/promo-codes/detail:
    post:
      consumes:
      - application/json
      description: 管理员获取单个优惠码的详细信息
      parameters:
      - description: 优惠码ID
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.PromotionDetailRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/protocol.Result'
            - properties:
                data:
                  $ref: '#/definitions/models.PromoCodeV2'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 获取优惠码详情
      tags:
      - 管理员-优惠码
  /admin/promo-codes/search:
    post:
      consumes:
      - application/json
      description: 管理员获取优惠码列表，支持分页和过滤
      parameters:
      - description: 优惠码搜索条件
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.PromotionSearchRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/protocol.PageResult'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 获取优惠码列表
      tags:
      - 管理员-优惠码
  /admin/promo-codes/status:
    post:
      consumes:
      - application/json
      description: 管理员更新优惠码的状态
      parameters:
      - description: 优惠码状态更新信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.PromotionStatusUpdateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/protocol.Result'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 更新优惠码状态
      tags:
      - 管理员-优惠码
  /admin/promo-codes/update:
    post:
      consumes:
      - application/json
      description: 管理员更新优惠码信息
      parameters:
      - description: 优惠码更新信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.PromotionUpdateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/protocol.Result'
            - properties:
                data:
                  $ref: '#/definitions/models.PromoCodeV2'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 更新优惠码
      tags:
      - 管理员-优惠码
  /admin/promo-codes/usage:
    post:
      consumes:
      - application/json
      description: 管理员获取优惠码的使用统计信息
      parameters:
      - description: 优惠码使用统计查询
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.PromotionUsageRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/protocol.Result'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 获取优惠码使用统计
      tags:
      - 管理员-优惠码
  /admin/reset-password:
    post:
      consumes:
      - application/json
      description: 重置指定管理员的密码
      parameters:
      - description: 密码重置信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.AdminResetPasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/protocol.Result'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 重置管理员密码
      tags:
      - 管理员-管理
  /admin/users/detail:
    post:
      consumes:
      - application/json
      description: 管理员获取单个用户的详细信息
      parameters:
      - description: 用户ID
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.UserIDRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/protocol.Result'
            - properties:
                data:
                  $ref: '#/definitions/models.User'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 获取用户详情
      tags:
      - 管理员-用户
  /admin/users/rides:
    post:
      consumes:
      - application/json
      description: 管理员获取用户的行程历史记录
      parameters:
      - description: 用户行程查询条件
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.UserRidesRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/protocol.PageResult'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 获取用户行程记录
      tags:
      - 管理员-用户
  /admin/users/search:
    post:
      consumes:
      - application/json
      description: 管理员获取用户列表，支持分页和过滤
      parameters:
      - description: 搜索条件
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.SearchRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/protocol.PageResult'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 获取用户列表
      tags:
      - 管理员-用户
  /admin/users/status:
    post:
      consumes:
      - application/json
      description: 管理员更新用户的状态和活跃状态
      parameters:
      - description: 用户状态更新信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.UserStatusUpdateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/protocol.Result'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 更新用户状态
      tags:
      - 管理员-用户
  /admin/users/update:
    post:
      consumes:
      - application/json
      description: 管理员更新用户的基本信息
      parameters:
      - description: 用户信息更新
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.UserUpdateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/protocol.Result'
            - properties:
                data:
                  $ref: '#/definitions/models.User'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 更新用户信息
      tags:
      - 管理员-用户
  /admin/users/verify:
    post:
      consumes:
      - application/json
      description: 管理员验证用户的邮箱或手机号
      parameters:
      - description: 用户验证信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.UserVerifyRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/protocol.Result'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/protocol.Result'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - ApiKeyAuth: []
      summary: 验证用户
      tags:
      - 管理员-用户
  /admin/vehicle/create:
    post:
      consumes:
      - application/json
      description: 管理员创建新车辆
      parameters:
      - description: 创建请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.VehicleCreateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 创建失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 创建车辆
      tags:
      - 管理员-车辆
  /admin/vehicle/delete:
    post:
      consumes:
      - application/json
      description: 管理员删除车辆（软删除）
      parameters:
      - description: 删除请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.VehicleDeleteRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 删除失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 删除车辆
      tags:
      - 管理员-车辆
  /admin/vehicle/detail:
    post:
      consumes:
      - application/json
      description: 管理员获取单个车辆的详细信息
      parameters:
      - description: 查询请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.VehicleDetailRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 获取失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 获取车辆详情
      tags:
      - 管理员-车辆
  /admin/vehicle/search:
    post:
      consumes:
      - application/json
      description: 管理员搜索车辆，支持多种条件过滤
      parameters:
      - description: 搜索请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.VehicleSearchRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 搜索失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 搜索车辆
      tags:
      - 管理员-车辆
  /admin/vehicle/status:
    post:
      consumes:
      - application/json
      description: 管理员更新车辆状态（激活、验证等）
      parameters:
      - description: 状态更新请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.VehicleStatusUpdateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 更新失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 更新车辆状态
      tags:
      - 管理员-车辆
  /admin/vehicle/update:
    post:
      consumes:
      - application/json
      description: 管理员更新车辆信息
      parameters:
      - description: 更新请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.VehicleUpdateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 更新失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 更新车辆信息
      tags:
      - 管理员-车辆
  /admin/vehicles:
    post:
      consumes:
      - application/json
      description: 管理员获取车辆列表，支持分页和过滤
      parameters:
      - description: 查询请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.VehicleListRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 获取失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 获取车辆列表
      tags:
      - 管理员-车辆
  /api/account/delete:
    post:
      consumes:
      - application/json
      description: 软删除用户账户，添加删除标记和时间戳，保留数据但标记为已删除状态
      parameters:
      - description: 删除请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.DeleteAccountRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 删除失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 删除账户
      tags:
      - 用户
  /api/change-password:
    post:
      consumes:
      - application/json
      description: 用户修改密码，需要提供旧密码
      parameters:
      - description: 修改密码请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.ChangePasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 修改失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 修改密码
      tags:
      - 认证
  /api/login:
    post:
      consumes:
      - application/json
      description: 用户登录接口，支持邮箱和手机号登录
      parameters:
      - description: 登录请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 参数错误或认证失败
          schema:
            $ref: '#/definitions/protocol.Result'
      summary: 用户登录
      tags:
      - 认证
  /api/logout:
    post:
      consumes:
      - application/json
      description: 用户登出，清除服务端相关信息
      produces:
      - application/json
      responses:
        "200":
          description: 登出成功
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 用户登出
      tags:
      - 认证
  /api/nearby:
    post:
      consumes:
      - application/json
      description: 司机或服务提供者根据当前地理位置获取附近的待接订单列表，支持按距离、订单类型等条件进行筛选
      parameters:
      - description: 获取附近订单请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.GetNearbyOrdersRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 获取成功，返回附近订单列表
          schema:
            allOf:
            - $ref: '#/definitions/protocol.Result'
            - properties:
                data:
                  items:
                    $ref: '#/definitions/protocol.Order'
                  type: array
              type: object
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: 用户未认证
          schema:
            $ref: '#/definitions/protocol.Result'
        "403":
          description: 权限不足，仅司机或服务提供者可访问
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 获取附近的待接订单
      tags:
      - 订单管理
  /api/offline:
    post:
      consumes:
      - application/json
      description: 司机下线，只有司机类型用户可以调用此接口。下线后司机状态变为离线，车辆状态变为不可用
      produces:
      - application/json
      responses:
        "200":
          description: 下线成功
          schema:
            $ref: '#/definitions/protocol.Result'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: 认证失败
          schema:
            $ref: '#/definitions/protocol.Result'
        "403":
          description: 权限不足
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: 内部服务器错误
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 司机下线
      tags:
      - 司机
  /api/online:
    post:
      consumes:
      - application/json
      description: 司机上线，只有司机类型用户可以调用此接口。上线后司机状态变为在线，车辆状态变为可用
      produces:
      - application/json
      responses:
        "200":
          description: 上线成功
          schema:
            $ref: '#/definitions/protocol.Result'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/protocol.Result'
        "401":
          description: 认证失败
          schema:
            $ref: '#/definitions/protocol.Result'
        "403":
          description: 权限不足
          schema:
            $ref: '#/definitions/protocol.Result'
        "500":
          description: 内部服务器错误
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 司机上线
      tags:
      - 司机
  /api/order/accept:
    post:
      consumes:
      - application/json
      description: 服务提供者接受指定的订单
      parameters:
      - description: 接受订单请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.OrderAcceptRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 接受失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 接受订单
      tags:
      - 订单管理
  /api/order/cancel:
    post:
      consumes:
      - application/json
      description: 取消指定的订单
      parameters:
      - description: 取消请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.OrderCancelAPIRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 取消失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 取消订单
      tags:
      - 订单管理
  /api/order/create:
    post:
      consumes:
      - application/json
      description: 创建新的订单，支持网约车等类型
      parameters:
      - description: 创建订单请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.CreateOrderRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 创建失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 创建订单
      tags:
      - 订单管理
  /api/order/detail:
    post:
      consumes:
      - application/json
      description: 获取指定订单的详细信息
      parameters:
      - description: 订单ID请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.OrderIDRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 获取失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 获取订单详情
      tags:
      - 订单管理
  /api/order/estimate:
    post:
      consumes:
      - application/json
      description: 使用价格引擎预估订单费用，支持价格快照和规则应用
      parameters:
      - description: 预估请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.EstimateOrderV2Request'
      produces:
      - application/json
      responses:
        "200":
          description: 预估失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 预估订单费用V2
      tags:
      - 价格快照
  /api/order/payment/confirm:
    post:
      consumes:
      - application/json
      description: 服务提供者确认收到付款
      parameters:
      - description: 订单ID请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.OrderIDRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 确认失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 确认收款
      tags:
      - 服务提供者
  /api/order/rating:
    post:
      consumes:
      - application/json
      description: 对订单进行评价
      parameters:
      - description: 评价请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.CreateOrderRatingAPIRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 评价失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 创建评价
      tags:
      - 订单评价
  /api/order/ratings:
    post:
      consumes:
      - application/json
      description: 获取订单的评价列表
      parameters:
      - description: 订单ID请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.OrderIDRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 获取失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 获取评价列表
      tags:
      - 订单评价
  /api/orders:
    post:
      consumes:
      - application/json
      description: 获取用户的订单列表，支持分页和类型过滤
      parameters:
      - description: 获取订单列表请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.GetOrdersRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 获取失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 获取订单列表
      tags:
      - 订单管理
  /api/profile:
    get:
      consumes:
      - application/json
      description: 获取当前登录用户的详细信息
      produces:
      - application/json
      responses:
        "200":
          description: 获取失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 获取用户信息
      tags:
      - 用户
  /api/profile/update:
    post:
      consumes:
      - application/json
      description: 按需更新用户个人信息，只更新提供的字段
      parameters:
      - description: 更新请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UpdateProfileRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 更新失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 更新个人信息
      tags:
      - 用户
  /api/rating/delete:
    post:
      consumes:
      - application/json
      description: 删除订单评价
      parameters:
      - description: 评价ID请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.RatingIDRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 删除失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 删除评价
      tags:
      - 订单评价
  /api/rating/reply:
    post:
      consumes:
      - application/json
      description: 服务提供者回复用户评价
      parameters:
      - description: 回复请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.ReplyToRatingRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 回复失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 回复评价
      tags:
      - 订单评价
  /api/rating/update:
    post:
      consumes:
      - application/json
      description: 更新订单评价
      parameters:
      - description: 评价更新请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.UpdateOrderRatingAPIRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 更新失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 更新评价
      tags:
      - 订单评价
  /api/register:
    post:
      consumes:
      - application/json
      description: 用户注册接口，支持乘客和司机注册。country_code为可选参数，默认为卢旺达(RW)。如果提供verify_code，会自动按优先级验证：先验证手机验证码，如果失败再验证邮箱验证码
      parameters:
      - description: 注册请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.RegisterRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 参数错误或用户已存在
          schema:
            $ref: '#/definitions/protocol.Result'
      summary: 用户注册
      tags:
      - 认证
  /api/reset-password:
    post:
      consumes:
      - application/json
      description: 通过验证码重置密码
      parameters:
      - description: 重置密码请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.ResetPasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 重置失败
          schema:
            $ref: '#/definitions/protocol.Result'
      summary: 重置密码
      tags:
      - 认证
  /api/send-verify-code:
    post:
      consumes:
      - application/json
      description: 发送验证码到邮箱或手机。系统会自动根据提供的email和phone字段判断发送方式，优先使用phone。country_code为可选参数，默认为卢旺达(RW)
      parameters:
      - description: 发送验证码请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.SendVerifyCodeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 参数错误或发送失败
          schema:
            $ref: '#/definitions/protocol.Result'
      summary: 发送验证码
      tags:
      - 认证
  /api/snapshot/lock:
    post:
      consumes:
      - application/json
      description: 将价格快照锁定到特定订单，防止重复使用
      parameters:
      - description: 锁定请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.LockSnapshotRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 锁定失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 锁定价格快照
      tags:
      - 价格快照
  /api/snapshot/validate:
    post:
      consumes:
      - application/json
      description: 验证价格快照是否仍然有效，检查价格变动是否在容忍范围内
      parameters:
      - description: 验证请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/protocol.ValidateSnapshotRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 验证失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 验证价格快照
      tags:
      - 价格快照
  /api/vehicle:
    post:
      consumes:
      - application/json
      description: 获取当前用户的车辆信息，司机返回绑定车辆，车主返回拥有的车辆
      parameters:
      - description: 查询请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.UserVehicleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 获取失败
          schema:
            $ref: '#/definitions/protocol.Result'
      security:
      - BearerAuth: []
      summary: 获取用户车辆信息
      tags:
      - 车辆
  /api/verify-code:
    post:
      consumes:
      - application/json
      description: 验证邮箱或手机验证码
      parameters:
      - description: 验证请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/handlers.VerifyCodeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 验证失败
          schema:
            $ref: '#/definitions/protocol.Result'
      summary: 验证验证码
      tags:
      - 认证
schemes:
- http
securityDefinitions:
  BearerAuth:
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
